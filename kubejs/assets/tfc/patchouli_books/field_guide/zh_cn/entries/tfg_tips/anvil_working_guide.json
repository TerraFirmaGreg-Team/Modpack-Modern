{
    "name": "铁砧操作指南",
    "icon": "gtceu:red_steel_hammer",
    "category": "tfc:tfg_tips",
    "read_by_default": true,
    "priority": false,
    "pages": [
        {
            "type": "patchouli:text",
            "title": "使用铁砧",
            "text": "$(l:mechanics/anvils#working)锻造$()在$(l:mechanics/anvils)铁砧$()中是一个核心流程，因为你在$(thing)蒸汽时代和机械时代$()的所有工作几乎都需要用到铁砧。$(br)本指南分为两部分：$(l:tfg_tips/anvil_working_guide#ui_explained)理解界面$() 和 $(l:tfg_tips/anvil_working_guide#how_to_perfectly_forge)如何完美锻造$()。$(br2)该整合包自带一个名为 $(l:https://www.curseforge.com/minecraft/texture-packs/tfc-anvil-helper)TFC 铁砧辅助资源包$()的自定义资源包，你需要启用它，才能让本指南有意义。$()"
        },
        {
            "type": "patchouli:image",
            "images": [
                "tfg:textures/gui/field_guide/anvil_working_guide/anvil_ui.png"
            ],
            "border": false,
            "text": "启用 TFC 铁砧辅助后的铁砧界面"
        },
        {
            "type": "patchouli:image",
            "images": [
                "tfg:textures/gui/field_guide/anvil_working_guide/anvil_ui_marked.png"
            ],
            "border": false,
            "anchor": "ui_explained",
            "tile": "界面与你",
            "text": "启用 TFC 铁砧辅助后的铁砧界面，彩色标注。"
        },
        {
            "type": "patchouli:text",
            "text": "$(#ff0000)1.$() 你在铁砧中选择制作的物品。每个物品都有特定的一组所需 $(#be00ff)步骤$() 和 $(#ff6b00)工作量$() $(br)$(#ff00c6)2.$() 当前正在处理的输入物品。$(br)$(#be00ff)3.$() 必须按顺序完成的步骤，物品才会被视为完成。总共有4种不同的顺序（见下一页）："
        },
        {
            "type": "patchouli:image",
            "images": [
                "tfg:textures/gui/field_guide/anvil_working_guide/anvil_ui_marked.png"
            ],
            "border": false
        },
        {
            "type": "patchouli:text",
            "text": "(注意：X 是任意步骤的通配符)$(br)$(li)x_Any: 步骤可以在最后3个动作中的任意一个发生。$()$(li)x_Last: 必须是最后一个执行的步骤。$()$(li)x_Not Last: 步骤不能是最后一个执行的步骤。$()$(li)x_Second Last: 必须是倒数第二个步骤。$()$(li)x_Third Last: 必须是倒数第三个步骤$()"
        },
        {
            "type": "patchouli:image",
            "images": [
                "tfg:textures/gui/field_guide/anvil_working_guide/anvil_ui_marked.png"
            ],
            "border": false
        },
        {
            "type": "patchouli:text",
            "text": "$(#2e00ff)4.$() 步骤类型。每种类型步都会增减当前工作量值。从左到右、从上到下依次为：$(li)轻击: -3$()$(li)中等击打: -6$()$(li)击打: +2$()$(li)弯曲: +7$()$(li)重击: -9$()$(li)拉伸: -15$()$(li)镦粗: +13$()$(li)收缩: +16$()"
        },
        {
            "type": "patchouli:image",
            "images": [
                "tfg:textures/gui/field_guide/anvil_working_guide/anvil_ui_marked.png"
            ],
            "border": false
        },
        {
            "type": "patchouli:text",
            "text": "$(#00a7ff)5.$() 锤子放置的槽位，如果焊接会额外需要电流。$(br)$(#00ff26)6. $() 物品当前的工作量，执行不同步骤会使工作量增加或减少。$(br)$(#fff400)7. $() 目标工作值，$(#00ff26)工作$()值必须精确对齐目标工作值，并且$(#ff00c6)所需步骤$()也要满足，物品才算完成。$(br)$(#ff6b00)8. $() 工作条，用于将工作值与目标工作值对齐。"
        },
        {
            "type": "patchouli:text",
            "anchor": "how_to_perfectly_forge",
            "title": "如何完美锻造",
            "text": "$(thing)完美锻造$()一个可能损坏的物品，比如$(thing)工具头$()、$(thing)武器$()和$(thing)护甲$()，能让物品获得耐久度和效率上的奖励，而且锻造时使用的步骤越少，奖励越高。在极少步骤内完成工作的物品会成为完美锻造成品，不仅提升最终品质，还能减少锤子本身的磨损。"
        },
        {
            "type": "patchouli:image",
            "images": [
                "tfg:textures/gui/field_guide/anvil_working_guide/perfectly_forged_item.png"
            ],
            "border": false,
            "text": "一个完美锻造的熟铁镐头"
        },
        {
            "type": "patchouli:spotlight",
            "title": "锻造指南",
            "item": "gtceu:wrought_iron_pickaxe_head",
            "text": "这部分指南将教你如何完美锻造任何物品，以熟铁镐头为例开始。$(br2)$(bold)$(italic)免责声明：$()$(br)虽然物品所需的步骤和顺序在 TerraFirmaGreg 中全世界都通用，但目标工作值因世界种子而异，因此本指南假设熟铁镐头的目标工作值是 $(bold)83$()"
        },
        {
            "type": "patchouli:empty"
        },
        {
            "type": "patchouli:text",
            "title": "第一步",
            "text": "锻造旅程的第一步是从所有所需步骤的数值相加得到一个值。对于镐头，你需要以下步骤：$(li)$(bold)击打$() 最后一步$()$(li)$(bold)弯曲$() 不是最后一步$()$(li)$(bold)拉伸$() 不是最后一步$()。$(br)通过加上每个步骤下方的数值，我们就可以得到这个值。我们称其为 \"requiredWork\"。$(br)$(bold)2 + 7 + (-15) = -6$()"
        },
        {
            "type": "patchouli:image",
            "images": [
                "tfg:textures/gui/field_guide/anvil_working_guide/steps.png"
            ],
            "text": "镐头所需的步骤"
        },
        {
            "type": "patchouli:text",
            "title": "第二步",
            "text": "我们的主要目标是让工作值对齐目标工作值，但也必须同时满足步骤要求，否则直接对齐无益。我们可以根据目标工作值和 \"requiredWork\" 计算出一个派生值。"
        },
        {
            "type": "patchouli:text",
            "text": "该值取决于 \"requiredWork\" 的符号（正或负）。$(li)如果 \"requiredWork\" 为正$()$(li2)从目标工作值中减去 \"requiredWork\" 的绝对值$()$(li3)83 - 6 == $(bold)77$()$()$(li)如果 \"requiredWork\" 为负$()$(li2)将 \"requiredWork\" 的绝对值加到目标工作值上$()$(li3)83 + 6 = $(bold)89$()$()"
        },
        {
            "type": "patchouli:text",
            "text": "由于我们物品的 \"requiredWork\" 是 -6，我们要找的值是 $(bold)89$()。$(br)你可能会问，怎么获取确切的目标工作值？铁砧界面中的工作条可以帮到你。它只显示20的倍数，但我们可以通过颜色线轻松知道其他数字：$(li)浅灰色：代表5的倍数$()$(li)灰色：代表奇数$()$(li)深灰色：代表偶数$()"
        },
        {
            "type": "patchouli:image",
            "images": [
                "tfg:textures/gui/field_guide/anvil_working_guide/work_bar_numbers.png",
                "tfg:textures/gui/field_guide/anvil_working_guide/target_work_for_wrought_iron_pickaxe_head.png"
            ]
        },
        {
            "type": "patchouli:text",
            "title": "第三步",
            "text": "有了从 \"目标工作值\" 和 \"requiredWork\" 推导出的数值，现在我们需要到达这个工作值，这可以通过手动累加每一步的数值，也可以使用UI栏中的速查表实现。每种颜色对应一个步骤类型。$(br)举个例子：红色 == 收缩 (+16)"
        },
        {
            "type": "patchouli:image",
            "images": [
                "tfg:textures/gui/field_guide/anvil_working_guide/work_bar_cheat_sheet.png"
            ],
            "text": "16 + 16 + 16 + 16 + 16 + 7 + 2 = 89"
        },
        {
            "type": "patchouli:text",
            "title": "第四步",
            "text": "现在我们知道所需步骤了，接下来就是达到推导出的工作值。对于一个目标工作值为 83 的镐头，我们需达到 89。所以进行：(收缩 x 5) -> 弯曲 -> 击打。$(br2)一旦工作值达到目标值，只需按照所需步骤来操作（对镐头而言是：拉伸 -> 弯曲 -> 击打）。搞定！我们获得了完美的锻造物品！"
        },
        {
            "type": "patchouli:image",
            "images": [
                "tfg:textures/gui/field_guide/anvil_working_guide/wrought_iron_pickaxe_head_no_work.png",
                "tfg:textures/gui/field_guide/anvil_working_guide/wrought_iron_pickaxe_head_some_work.png",
                "tfg:textures/gui/field_guide/anvil_working_guide/wrought_iron_pickaxe_head_complete.png"
            ],
            "text": "一块尚未工作的锭 → 达到目标工作值 → 执行所需步骤获得物品。"
        },
        {
            "type": "patchouli:text",
            "title": "实例",
            "text": "让我们看下其他物品的类似过程，比如一块板子或一根棒材。再次强调，目标工作值因世界种子而异，所以在你的世界中它们值会不同。$(br)板子目标值：$(bold)111$()$(br)所需步骤：击打 x 3，任意顺序。$(br)\"requiredWork\": -3 x 3 = -9$(br)派生值：111 + 9 = 120.$(br)达值方式：(收缩 x 5)->(镦粗 x 2)->(击打 x 2)$(br)获得物品：120 - (轻击 x 3) == $(bold)111$()。两个条件都满足。"
        },
        {
            "type": "patchouli:text",
            "text": "棒材目标值：$(bold)78$()$(br)所需步骤：拉伸→拉伸→弯曲$(br)\"requiredWork\": (-15 x 2) + 7 = -23$(br)派生值：78 + 23 = 101.$(br)达值方式：(收缩 x 5)->(弯曲 x 3)$(br)获得物品：101 - 15 - 15 + 7 = 101。"
        },
        {
            "type": "patchouli:text",
            "title": "其他小技巧",
            "text": "如果某个所需步骤为空，则表示这是一个通配符，任何步骤都可以使用。$(br2)如果计算失败，你可以随时熔化并重新铸造物品回到锭状态，这会移除物品的 \"已加工\" 标记，让你重新尝试完美锻造。"
        },
        {
            "type": "patchouli:empty"
        },
        {
            "type": "patchouli:empty"
        },
        {
            "type": "patchouli:text",
            "text": "恭喜你完成了全部内容！如果你是贡献者想重新拍摄本指南图片，写作时所用的世界种子是 $(bold)-7291708953208913102$()，你还可以创建创造世界来测试算法！$(br2)$(br)顺便说一句...既然你已经看到了这里，如果你懒得自己算全部数据，可以一直使用 $(l:https://adrianmiller99.github.io/tfg-anvil-calculator/src/index.html)TFC 铁砧计算器$()..."
        }
    ]
}